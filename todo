Right now the simulator hierarchy looks like:

dnn_sim
  dram_interface
  control_processor
  datapath
    buffers
    NFU pipeline

the control processor has pointers to datapath and dram_interface which it can use to micromanage them (everything is public)
  we can convert this to a proper interface later

the control processor will also take care of the DMA actions
the control processor issues pipe_ops to the datapath when their data has been loaded to memory
once all pipe_ops have been issued (queued) then start the next instruction (keep trying to load SB until there is space)

what about NBout?
    

    

start with datapath, assume input buffers are full, ignore memory

BUGS:
    

TODO:

    sram needs to be redesigned
        include DMA in sram (or let control proc do this)
        issue loads/stores to sram
        sram will only load when there is space
        pipe_ops will cause lines to be ejected
        pipe_ops know which entry to read

    pipe_reg should poll sram for data
        give pipe_stage[0] pointers to srams

  centralize stat collection?
  simple memory model
  DRAMsim?
  create proper interface for datapath
